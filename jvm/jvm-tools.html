<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JVM 工具 | JAVACORE</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/javacore/favicon.ico">
    <meta name="description" content="Java 教程">
    <link rel="preload" href="/javacore/assets/css/0.styles.0d8d0e5e.css" as="style"><link rel="preload" href="/javacore/assets/js/app.f6137fda.js" as="script"><link rel="preload" href="/javacore/assets/js/4.5b70554b.js" as="script"><link rel="preload" href="/javacore/assets/js/61.441d44e6.js" as="script"><link rel="preload" href="/javacore/assets/js/5.97e60065.js" as="script"><link rel="prefetch" href="/javacore/assets/js/10.7c8236ba.js"><link rel="prefetch" href="/javacore/assets/js/11.2a72f985.js"><link rel="prefetch" href="/javacore/assets/js/12.b95c774a.js"><link rel="prefetch" href="/javacore/assets/js/13.cf84ccd2.js"><link rel="prefetch" href="/javacore/assets/js/14.40b2a3d8.js"><link rel="prefetch" href="/javacore/assets/js/15.531535d9.js"><link rel="prefetch" href="/javacore/assets/js/16.aae180ed.js"><link rel="prefetch" href="/javacore/assets/js/17.97241acb.js"><link rel="prefetch" href="/javacore/assets/js/18.718393e5.js"><link rel="prefetch" href="/javacore/assets/js/19.cdfcd8da.js"><link rel="prefetch" href="/javacore/assets/js/20.cda946e4.js"><link rel="prefetch" href="/javacore/assets/js/21.a034e65f.js"><link rel="prefetch" href="/javacore/assets/js/22.900e3b22.js"><link rel="prefetch" href="/javacore/assets/js/23.c4b0ed6f.js"><link rel="prefetch" href="/javacore/assets/js/24.5c2644c5.js"><link rel="prefetch" href="/javacore/assets/js/25.590d7934.js"><link rel="prefetch" href="/javacore/assets/js/26.8267af8d.js"><link rel="prefetch" href="/javacore/assets/js/27.fb90134e.js"><link rel="prefetch" href="/javacore/assets/js/28.e2685323.js"><link rel="prefetch" href="/javacore/assets/js/29.eb3a852c.js"><link rel="prefetch" href="/javacore/assets/js/30.b7bf8986.js"><link rel="prefetch" href="/javacore/assets/js/31.43366024.js"><link rel="prefetch" href="/javacore/assets/js/32.006504cd.js"><link rel="prefetch" href="/javacore/assets/js/33.dcef2a82.js"><link rel="prefetch" href="/javacore/assets/js/34.ca29a239.js"><link rel="prefetch" href="/javacore/assets/js/35.9a73e478.js"><link rel="prefetch" href="/javacore/assets/js/36.c5bb9a0c.js"><link rel="prefetch" href="/javacore/assets/js/37.0c517ddd.js"><link rel="prefetch" href="/javacore/assets/js/38.e3b0dd99.js"><link rel="prefetch" href="/javacore/assets/js/39.5147fcd5.js"><link rel="prefetch" href="/javacore/assets/js/40.235de4ac.js"><link rel="prefetch" href="/javacore/assets/js/41.7f45a053.js"><link rel="prefetch" href="/javacore/assets/js/42.7bba55df.js"><link rel="prefetch" href="/javacore/assets/js/43.6928c4c5.js"><link rel="prefetch" href="/javacore/assets/js/44.96d611e1.js"><link rel="prefetch" href="/javacore/assets/js/45.f5049149.js"><link rel="prefetch" href="/javacore/assets/js/46.a063dd63.js"><link rel="prefetch" href="/javacore/assets/js/47.eb7ca584.js"><link rel="prefetch" href="/javacore/assets/js/48.74f5beb2.js"><link rel="prefetch" href="/javacore/assets/js/49.bf732bec.js"><link rel="prefetch" href="/javacore/assets/js/50.1e10239f.js"><link rel="prefetch" href="/javacore/assets/js/51.006eddb3.js"><link rel="prefetch" href="/javacore/assets/js/52.9372534d.js"><link rel="prefetch" href="/javacore/assets/js/53.fb758aef.js"><link rel="prefetch" href="/javacore/assets/js/54.c2ff0fb2.js"><link rel="prefetch" href="/javacore/assets/js/55.4b33dbfb.js"><link rel="prefetch" href="/javacore/assets/js/56.98555fae.js"><link rel="prefetch" href="/javacore/assets/js/57.a63dcd0b.js"><link rel="prefetch" href="/javacore/assets/js/58.9d2b326d.js"><link rel="prefetch" href="/javacore/assets/js/59.6fc72b95.js"><link rel="prefetch" href="/javacore/assets/js/6.42d6b1b0.js"><link rel="prefetch" href="/javacore/assets/js/60.01f6dec6.js"><link rel="prefetch" href="/javacore/assets/js/62.0be8a58d.js"><link rel="prefetch" href="/javacore/assets/js/63.516a1b55.js"><link rel="prefetch" href="/javacore/assets/js/7.ac8df731.js"><link rel="prefetch" href="/javacore/assets/js/8.a0f8e5c1.js"><link rel="prefetch" href="/javacore/assets/js/9.0dd858f2.js"><link rel="prefetch" href="/javacore/assets/js/vendors~flowchart.8982e116.js"><link rel="prefetch" href="/javacore/assets/js/vendors~notification.f509967c.js">
    <link rel="stylesheet" href="/javacore/assets/css/0.styles.0d8d0e5e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javacore/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="JAVACORE" class="logo"> <span class="site-name can-hide">JAVACORE</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/javacore/basics/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/javacore/advanced/" class="nav-link">
  高级
</a></div><div class="nav-item"><a href="/javacore/container/" class="nav-link">
  容器
</a></div><div class="nav-item"><a href="/javacore/io/" class="nav-link">
  IO
</a></div><div class="nav-item"><a href="/javacore/concurrent/" class="nav-link">
  并发
</a></div><div class="nav-item"><a href="/javacore/jvm/" class="nav-link router-link-active">
  JVM
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/javacore" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/javacore/basics/" class="nav-link">
  基础
</a></div><div class="nav-item"><a href="/javacore/advanced/" class="nav-link">
  高级
</a></div><div class="nav-item"><a href="/javacore/container/" class="nav-link">
  容器
</a></div><div class="nav-item"><a href="/javacore/io/" class="nav-link">
  IO
</a></div><div class="nav-item"><a href="/javacore/concurrent/" class="nav-link">
  并发
</a></div><div class="nav-item"><a href="/javacore/jvm/" class="nav-link router-link-active">
  JVM
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">✨ Java系列</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/java-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Java 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaCore 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/javacore/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  JavaTech 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://dunwu.github.io/spring-boot-tutorial/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Spring Boot 教程 📚
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  🎯 博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/javacore" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JVM 工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javacore/jvm/jvm-tools.html#一、jvm-cli-工具" class="sidebar-link">一、JVM CLI 工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jps" class="sidebar-link">jps</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jstat" class="sidebar-link">jstat</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jmap" class="sidebar-link">jmap</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jstack" class="sidebar-link">jstack</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jhat" class="sidebar-link">jhat</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jinfo" class="sidebar-link">jinfo</a></li></ul></li><li><a href="/javacore/jvm/jvm-tools.html#二、jvm-gui-工具" class="sidebar-link">二、JVM GUI 工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jconsole" class="sidebar-link">jconsole</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#jvisualvm" class="sidebar-link">jvisualvm</a></li><li class="sidebar-sub-header"><a href="/javacore/jvm/jvm-tools.html#mat" class="sidebar-link">MAT</a></li></ul></li><li><a href="/javacore/jvm/jvm-tools.html#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="jvm-工具"><a href="#jvm-工具" class="header-anchor">#</a> JVM 工具</h1> <blockquote><p>Java 程序员免不了故障排查工作，所以经常需要使用一些 JVM 工具。</p></blockquote> <ul><li><a href="#%E4%B8%80jvm-cli-%E5%B7%A5%E5%85%B7">一、JVM CLI 工具</a> <ul><li><a href="#jps">jps</a></li> <li><a href="#jstat">jstat</a></li> <li><a href="#jmap">jmap</a></li> <li><a href="#jstack">jstack</a></li> <li><a href="#jhat">jhat</a></li> <li><a href="#jinfo">jinfo</a></li></ul></li> <li><a href="#%E4%BA%8Cjvm-gui-%E5%B7%A5%E5%85%B7">二、JVM GUI 工具</a> <ul><li><a href="#jconsole">jconsole</a></li> <li><a href="#jvisualvm">jvisualvm</a></li> <li><a href="#mat">MAT</a></li></ul></li> <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li></ul> <h2 id="一、jvm-cli-工具"><a href="#一、jvm-cli-工具" class="header-anchor">#</a> 一、JVM CLI 工具</h2> <p>JDK 自带了一些实用的命令行工具来监控 JVM。</p> <table><thead><tr><th>名称</th> <th>描述</th></tr></thead> <tbody><tr><td><code>jps</code></td> <td>显示指定系统内所有的 HotSpot 虚拟机进程。</td></tr> <tr><td><code>jstat</code></td> <td>用于监视虚拟机运行时状态信息，它可以显示出虚拟机进程中的类装载、内存、垃圾收集、JIT 编译等运行数据。</td></tr> <tr><td><code>jmap</code></td> <td>用于生成堆转储快照（一般称为 heapdump 或 dump 文件）。</td></tr> <tr><td><code>jstack</code></td> <td>用于生成 java 虚拟机当前时刻的线程快照（一般称为 threaddump 或 javacore 文件）。</td></tr> <tr><td><code>jhat</code></td> <td>用来分析 jmap 生成的 dump 文件。</td></tr> <tr><td><code>jinfo</code></td> <td>用于实时查看和调整虚拟机运行参数。</td></tr></tbody></table> <h3 id="jps"><a href="#jps" class="header-anchor">#</a> jps</h3> <blockquote><p><strong><a href="https://docs.oracle.com/en/java/javase/11/tools/jps.html#GUID-6EB65B96-F9DD-4356-B825-6146E9EEC81E" target="_blank" rel="noopener noreferrer">jps(JVM Process Status Tool)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是虚拟机进程状态工具</strong>。它可以显示指定系统内所有的 HotSpot 虚拟机进程状态信息。jps 通过 RMI 协议查询开启了 RMI 服务的远程虚拟机进程状态。</p></blockquote> <p>命令格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>jps <span class="token punctuation">[</span>option<span class="token punctuation">]</span> <span class="token punctuation">[</span>hostid<span class="token punctuation">]</span>
</code></pre></div><p>如果不指定 hostid 就默认为当前主机或服务器。</p> <p>常用参数：</p> <ul><li><code>option</code> - 选项参数
<ul><li><code>-l</code> - 输出主类的全名，如果进程执行的是 jar 包，输出 jar 路径</li> <li><code>-m</code> - 输出 JVM 启动时传递给 main() 的参数</li> <li><code>-q</code> - 只输出 LVMID，省略主类的名称</li> <li><code>-v</code> - 输出 JVM 启动时显示指定的 JVM 参数</li></ul></li> <li><code>hostid</code> - RMI 注册表中注册的主机名。如果不指定 hostid 就默认为当前主机或服务器。</li></ul> <p>其中[option]、[hostid]参数也可以不写。</p> <p>【示例】</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jps -l -m
<span class="token number">28920</span> org.apache.catalina.startup.Bootstrap start
<span class="token number">11589</span> org.apache.catalina.startup.Bootstrap start
<span class="token number">25816</span> sun.tools.jps.Jps -l -m
</code></pre></div><h3 id="jstat"><a href="#jstat" class="header-anchor">#</a> jstat</h3> <blockquote><p><strong><a href="https://docs.oracle.com/en/java/javase/11/tools/jstat.html" target="_blank" rel="noopener noreferrer">jstat(JVM statistics Monitoring)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，是虚拟机统计信息监视工具</strong>。jstat 用于监视虚拟机运行时状态信息，它可以显示出虚拟机进程中的类装载、内存、垃圾收集、JIT 编译等运行数据。</p></blockquote> <p>命令格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>jstat <span class="token punctuation">[</span>option<span class="token punctuation">]</span> VMID <span class="token punctuation">[</span>interval<span class="token punctuation">]</span> <span class="token punctuation">[</span>count<span class="token punctuation">]</span>
</code></pre></div><p>常用参数：</p> <ul><li><code>option</code> - 选项参数，用于指定用户需要查询的虚拟机信息
<ul><li><code>-class</code> - 监视类装载、卸载数量、总空间以及类装载所耗费的时间</li> <li><code>-compiler</code>：显示 JIT 编译的相关信息；</li> <li><code>-gc</code>：监视 Java 堆状况，包括 Eden 区、两个 survivor 区、老年代、永久代等区的容量、已用空间、GC 时间合计等信息。</li> <li><code>-gccapacity</code>：显示各个代的容量以及使用情况；</li> <li><code>-gcmetacapacity</code>：显示 Metaspace 的大小；</li> <li><code>-gcnew</code>：显示新生代信息；</li> <li><code>-gcnewcapacity</code>：显示新生代大小和使用情况；</li> <li><code>-gcold</code>：显示老年代和永久代的信息；</li> <li><code>-gcoldcapacity</code>：显示老年代的大小；</li> <li><code>-gcutil</code>：显示垃圾收集信息；</li> <li><code>-gccause</code>：显示垃圾回收的相关信息（通 -gcutil），同时显示最后一次或当前正在发生的垃圾回收的诱因；</li> <li><code>-printcompilation</code>：输出 JIT 编译的方法信息。</li></ul></li> <li><code>VMID</code> - 如果是本地虚拟机进程，则 VMID 与 LVMID 是一致的；如果是远程虚拟机进程，那 VMID 的格式应当是：<code>[protocol:][//]lvmid[@hostname[:port]/servername]</code></li> <li><code>interval</code> - 查询间隔</li> <li><code>count</code> - 查询次数</li></ul> <blockquote><p>【参考】更详细说明可以参考：<a href="https://www.cnblogs.com/yjd_hycf_space/p/7755633.html" target="_blank" rel="noopener noreferrer">jstat 命令查看 jvm 的 GC 情况<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>【示例】jstat -gc pid 查看 Java 堆</p> <p><img src="http://dunwu.test.upcdn.net/snap/20200630105411.png" alt=""></p> <p>参数说明：</p> <ul><li>S0C：年轻代中 To Survivor 的容量（单位 KB）；</li> <li>S1C：年轻代中 From Survivor 的容量（单位 KB）；</li> <li>S0U：年轻代中 To Survivor 目前已使用空间（单位 KB）；</li> <li>S1U：年轻代中 From Survivor 目前已使用空间（单位 KB）；</li> <li>EC：年轻代中 Eden 的容量（单位 KB）；</li> <li>EU：年轻代中 Eden 目前已使用空间（单位 KB）；</li> <li>OC：Old 代的容量（单位 KB）；</li> <li>OU：Old 代目前已使用空间（单位 KB）；</li> <li>MC：Metaspace 的容量（单位 KB）；</li> <li>MU：Metaspace 目前已使用空间（单位 KB）；</li> <li>YGC：从应用程序启动到采样时年轻代中 gc 次数；</li> <li>YGCT：从应用程序启动到采样时年轻代中 gc 所用时间 (s)；</li> <li>FGC：从应用程序启动到采样时 old 代（全 gc）gc 次数；</li> <li>FGCT：从应用程序启动到采样时 old 代（全 gc）gc 所用时间 (s)；</li> <li>GCT：从应用程序启动到采样时 gc 用的总时间 (s)。</li></ul> <h4 id="类加载统计"><a href="#类加载统计" class="header-anchor">#</a> 类加载统计</h4> <p>使用 <code>jstat -class pid</code> 命令可以查看编译统计信息。</p> <p>【参数】</p> <ul><li>Loaded - 加载 class 的数量</li> <li>Bytes - 所占用空间大小</li> <li>Unloaded - 未加载数量</li> <li>Bytes - 未加载占用空间</li> <li>Time - 时间</li></ul> <p>【示例】查看类加载信息</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jstat -class <span class="token number">7129</span>
Loaded  Bytes  Unloaded  Bytes     Time
 <span class="token number">26749</span> <span class="token number">50405.3</span>      <span class="token number">873</span>  <span class="token number">1216.8</span>      <span class="token number">19.75</span>
</code></pre></div><p>【示例】每秒打印 1 次 GC 信息，打印 4 次</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jstat -gc <span class="token number">25196</span> 1s <span class="token number">4</span>
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   
<span class="token number">20928.0</span> <span class="token number">20928.0</span>  <span class="token number">0.0</span>    <span class="token number">0.0</span>   <span class="token number">167936.0</span>  <span class="token number">8880.5</span>   <span class="token number">838912.0</span>   <span class="token number">80291.2</span>   <span class="token number">106668.0</span> <span class="token number">100032.1</span> <span class="token number">12772.0</span> <span class="token number">11602.2</span>    <span class="token number">760</span>   <span class="token number">14.332</span>  <span class="token number">580</span>   <span class="token number">656.218</span>  <span class="token number">670.550</span>
<span class="token number">20928.0</span> <span class="token number">20928.0</span>  <span class="token number">0.0</span>    <span class="token number">0.0</span>   <span class="token number">167936.0</span>  <span class="token number">8880.5</span>   <span class="token number">838912.0</span>   <span class="token number">80291.2</span>   <span class="token number">106668.0</span> <span class="token number">100032.1</span> <span class="token number">12772.0</span> <span class="token number">11602.2</span>    <span class="token number">760</span>   <span class="token number">14.332</span>  <span class="token number">580</span>   <span class="token number">656.218</span>  <span class="token number">670.550</span>
<span class="token number">20928.0</span> <span class="token number">20928.0</span>  <span class="token number">0.0</span>    <span class="token number">0.0</span>   <span class="token number">167936.0</span>  <span class="token number">8880.5</span>   <span class="token number">838912.0</span>   <span class="token number">80291.2</span>   <span class="token number">106668.0</span> <span class="token number">100032.1</span> <span class="token number">12772.0</span> <span class="token number">11602.2</span>    <span class="token number">760</span>   <span class="token number">14.332</span>  <span class="token number">580</span>   <span class="token number">656.218</span>  <span class="token number">670.550</span>
<span class="token number">20928.0</span> <span class="token number">20928.0</span>  <span class="token number">0.0</span>    <span class="token number">0.0</span>   <span class="token number">167936.0</span>  <span class="token number">8880.5</span>   <span class="token number">838912.0</span>   <span class="token number">80291.2</span>   <span class="token number">106668.0</span> <span class="token number">100032.1</span> <span class="token number">12772.0</span> <span class="token number">11602.2</span>    <span class="token number">760</span>   <span class="token number">14.332</span>  <span class="token number">580</span>   <span class="token number">656.218</span>  <span class="token number">670.550</span>
</code></pre></div><h4 id="编译统计"><a href="#编译统计" class="header-anchor">#</a> 编译统计</h4> <p>使用 <code>jstat -compiler pid</code> 命令可以查看编译统计信息。</p> <p>【示例】</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jstat -compiler <span class="token number">7129</span>
Compiled Failed Invalid   Time   FailedType FailedMethod
   <span class="token number">42030</span>      <span class="token number">2</span>       <span class="token number">0</span>   <span class="token number">302.53</span>          <span class="token number">1</span> org/apache/felix/framework/BundleWiringImpl<span class="token variable">$BundleClassLoader</span> findClass
</code></pre></div><p>【参数】</p> <ul><li>Compiled - 编译数量</li> <li>Failed - 失败数量</li> <li>Invalid - 不可用数量</li> <li>Time - 时间</li> <li>FailedType - 失败类型</li> <li>FailedMethod - 失败的方法</li></ul> <h4 id="gc-统计"><a href="#gc-统计" class="header-anchor">#</a> GC 统计</h4> <p>使用 <code>jstat -gc pid time</code> 命令可以查看 GC 统计信息。</p> <p>【示例】</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jstat -gc <span class="token number">29527</span> <span class="token number">200</span> <span class="token number">5</span>
 S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT
<span class="token number">22528.0</span> <span class="token number">22016.0</span>  <span class="token number">0.0</span>   <span class="token number">21388.2</span> <span class="token number">4106752.0</span> <span class="token number">921244.7</span> <span class="token number">5592576.0</span>  <span class="token number">2086826.5</span>  <span class="token number">110716.0</span> <span class="token number">103441.1</span> <span class="token number">12416.0</span> <span class="token number">11167.7</span>   <span class="token number">3189</span>   <span class="token number">90.057</span>  <span class="token number">10</span>      <span class="token number">2.140</span>   <span class="token number">92.197</span>
<span class="token number">22528.0</span> <span class="token number">22016.0</span>  <span class="token number">0.0</span>   <span class="token number">21388.2</span> <span class="token number">4106752.0</span> <span class="token number">921244.7</span> <span class="token number">5592576.0</span>  <span class="token number">2086826.5</span>  <span class="token number">110716.0</span> <span class="token number">103441.1</span> <span class="token number">12416.0</span> <span class="token number">11167.7</span>   <span class="token number">3189</span>   <span class="token number">90.057</span>  <span class="token number">10</span>      <span class="token number">2.140</span>   <span class="token number">92.197</span>
<span class="token number">22528.0</span> <span class="token number">22016.0</span>  <span class="token number">0.0</span>   <span class="token number">21388.2</span> <span class="token number">4106752.0</span> <span class="token number">921244.7</span> <span class="token number">5592576.0</span>  <span class="token number">2086826.5</span>  <span class="token number">110716.0</span> <span class="token number">103441.1</span> <span class="token number">12416.0</span> <span class="token number">11167.7</span>   <span class="token number">3189</span>   <span class="token number">90.057</span>  <span class="token number">10</span>      <span class="token number">2.140</span>   <span class="token number">92.197</span>
<span class="token number">22528.0</span> <span class="token number">22016.0</span>  <span class="token number">0.0</span>   <span class="token number">21388.2</span> <span class="token number">4106752.0</span> <span class="token number">921244.7</span> <span class="token number">5592576.0</span>  <span class="token number">2086826.5</span>  <span class="token number">110716.0</span> <span class="token number">103441.1</span> <span class="token number">12416.0</span> <span class="token number">11167.7</span>   <span class="token number">3189</span>   <span class="token number">90.057</span>  <span class="token number">10</span>      <span class="token number">2.140</span>   <span class="token number">92.197</span>
<span class="token number">22528.0</span> <span class="token number">22016.0</span>  <span class="token number">0.0</span>   <span class="token number">21388.2</span> <span class="token number">4106752.0</span> <span class="token number">921244.7</span> <span class="token number">5592576.0</span>  <span class="token number">2086826.5</span>  <span class="token number">110716.0</span> <span class="token number">103441.1</span> <span class="token number">12416.0</span> <span class="token number">11167.7</span>   <span class="token number">3189</span>   <span class="token number">90.057</span>  <span class="token number">10</span>      <span class="token number">2.140</span>   <span class="token number">92.197</span>
</code></pre></div><p>【参数】</p> <ul><li><code>S0C</code> - 第一个 Survivor 区的大小</li> <li><code>S1C</code> - 第二个 Survivor 区的大小</li> <li><code>S0U</code> - 第一个 Survivor 区的使用大小</li> <li><code>S1U</code> - 第二个 Survivor 区的使用大小</li> <li><code>EC</code> - Eden 区的大小</li> <li><code>EU</code> - Eden 区的使用大小</li> <li><code>TT</code> - 对象在新生代存活的次数</li> <li><code>MTT</code> - 对象在新生代存活的最大次数</li> <li><code>DSS</code> - 期望的 Survivor 区的大小</li> <li><code>YGC</code> - 年轻代垃圾回收次数</li> <li><code>YGCT</code> - 年轻代垃圾回收消耗时间</li></ul> <h3 id="jmap"><a href="#jmap" class="header-anchor">#</a> jmap</h3> <blockquote><p><strong><a href="https://docs.oracle.com/en/java/javase/11/tools/jmap.html" target="_blank" rel="noopener noreferrer">jmap(JVM Memory Map)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是 Java 内存映像工具</strong>。jmap 用于生成堆转储快照（一般称为 heapdump 或 dump 文件）。jmap 不仅能生成 dump 文件，还可以查询 <code>finalize</code> 执行队列、Java 堆和永久代的详细信息，如当前使用率、当前使用的是哪种收集器等。</p> <p>如果不使用这个命令，还可以使用 <code>-XX:+HeapDumpOnOutOfMemoryError</code> 参数来让虚拟机出现 OOM 的时候，自动生成 dump 文件。</p></blockquote> <p>命令格式：</p> <div class="language- extra-class"><pre class="language-text"><code>jmap [option] VMID
</code></pre></div><p>常用参数：</p> <ul><li><code>option</code> - 选项参数
<ul><li><code>-dump</code> - 生成堆转储快照。<code>-dump:live</code> 只保存堆中的存活对象。</li> <li><code>-finalizerinfo</code> - 显示在 F-Queue 队列等待执行 <code>finalizer</code> 方法的对象</li> <li><code>-heap</code> - 显示 Java 堆详细信息。</li> <li><code>-histo</code> - 显示堆中对象的统计信息，包括类、实例数量、合计容量。<code>-histo:live</code> 只统计堆中的存活对象。</li> <li><code>-permstat</code> - to print permanent generation statistics</li> <li><code>-F</code> - 当-dump 没有响应时，强制生成 dump 快照</li></ul></li></ul> <p>【示例】</p> <p><strong>（1）生成 heapdump 快照</strong></p> <p>dump 堆到文件，format 指定输出格式，live 指明是活着的对象，file 指定文件名</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jmap -dump:live,format<span class="token operator">=</span>b,file<span class="token operator">=</span>dump.hprof <span class="token number">28920</span>
Dumping heap to /home/xxx/dump.hprof <span class="token punctuation">..</span>.
Heap dump <span class="token function">file</span> created
</code></pre></div><p>dump.hprof 这个后缀是为了后续可以直接用 MAT(Memory Anlysis Tool)等工具打开。</p> <p><strong>（2）查看实例数最多的类</strong></p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jmap -histo <span class="token number">29527</span> <span class="token operator">|</span> <span class="token function">head</span> -n <span class="token number">6</span>

 num     <span class="token comment">#instances         #bytes  class name</span>
----------------------------------------------
   <span class="token number">1</span>:      <span class="token number">13673280</span>     <span class="token number">1438961864</span>  <span class="token punctuation">[</span>C
   <span class="token number">2</span>:       <span class="token number">1207166</span>      <span class="token number">411277184</span>  <span class="token punctuation">[</span>I
   <span class="token number">3</span>:       <span class="token number">7382322</span>      <span class="token number">347307096</span>  <span class="token punctuation">[</span>Ljava.lang.Object<span class="token punctuation">;</span>
</code></pre></div><p><strong>（3） 查看指定进程的堆信息</strong></p> <p>注意：使用 CMS GC 情况下，<code>jmap -heap PID</code> 的执行有可能会导致 java 进程挂起。</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jmap -heap <span class="token number">12379</span>
Attaching to process ID <span class="token number">12379</span>, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is <span class="token number">17.0</span>-b16

using thread-local object allocation.
Parallel GC with <span class="token number">6</span> thread<span class="token punctuation">(</span>s<span class="token punctuation">)</span>

Heap Configuration:
   MinHeapFreeRatio <span class="token operator">=</span> <span class="token number">40</span>
   MaxHeapFreeRatio <span class="token operator">=</span> <span class="token number">70</span>
   MaxHeapSize      <span class="token operator">=</span> <span class="token number">83886080</span> <span class="token punctuation">(</span><span class="token number">80</span>.0MB<span class="token punctuation">)</span>
   NewSize          <span class="token operator">=</span> <span class="token number">1310720</span> <span class="token punctuation">(</span><span class="token number">1</span>.25MB<span class="token punctuation">)</span>
   MaxNewSize       <span class="token operator">=</span> <span class="token number">17592186044415</span> MB
   OldSize          <span class="token operator">=</span> <span class="token number">5439488</span> <span class="token punctuation">(</span><span class="token number">5</span>.1875MB<span class="token punctuation">)</span>
   NewRatio         <span class="token operator">=</span> <span class="token number">2</span>
   SurvivorRatio    <span class="token operator">=</span> <span class="token number">8</span>
   PermSize         <span class="token operator">=</span> <span class="token number">20971520</span> <span class="token punctuation">(</span><span class="token number">20</span>.0MB<span class="token punctuation">)</span>
   MaxPermSize      <span class="token operator">=</span> <span class="token number">88080384</span> <span class="token punctuation">(</span><span class="token number">84</span>.0MB<span class="token punctuation">)</span>

Heap Usage:
PS Young Generation
Eden Space:
   capacity <span class="token operator">=</span> <span class="token number">9306112</span> <span class="token punctuation">(</span><span class="token number">8</span>.875MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">5375360</span> <span class="token punctuation">(</span><span class="token number">5</span>.1263427734375MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">3930752</span> <span class="token punctuation">(</span><span class="token number">3</span>.7486572265625MB<span class="token punctuation">)</span>
   <span class="token number">57.761608714788736</span>% used
From Space:
   capacity <span class="token operator">=</span> <span class="token number">9306112</span> <span class="token punctuation">(</span><span class="token number">8</span>.875MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">3425240</span> <span class="token punctuation">(</span><span class="token number">3</span>.2665634155273438MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">5880872</span> <span class="token punctuation">(</span><span class="token number">5</span>.608436584472656MB<span class="token punctuation">)</span>
   <span class="token number">36.80634834397007</span>% used
To Space:
   capacity <span class="token operator">=</span> <span class="token number">9306112</span> <span class="token punctuation">(</span><span class="token number">8</span>.875MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">(</span><span class="token number">0</span>.0MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">9306112</span> <span class="token punctuation">(</span><span class="token number">8</span>.875MB<span class="token punctuation">)</span>
   <span class="token number">0.0</span>% used
PS Old Generation
   capacity <span class="token operator">=</span> <span class="token number">55967744</span> <span class="token punctuation">(</span><span class="token number">53</span>.375MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">48354640</span> <span class="token punctuation">(</span><span class="token number">46</span>.11457824707031MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">7613104</span> <span class="token punctuation">(</span><span class="token number">7</span>.2604217529296875MB<span class="token punctuation">)</span>
   <span class="token number">86.39733629427693</span>% used
PS Perm Generation
   capacity <span class="token operator">=</span> <span class="token number">62062592</span> <span class="token punctuation">(</span><span class="token number">59</span>.1875MB<span class="token punctuation">)</span>
   used     <span class="token operator">=</span> <span class="token number">60243112</span> <span class="token punctuation">(</span><span class="token number">57</span>.452308654785156MB<span class="token punctuation">)</span>
   <span class="token function">free</span>     <span class="token operator">=</span> <span class="token number">1819480</span> <span class="token punctuation">(</span><span class="token number">1</span>.7351913452148438MB<span class="token punctuation">)</span>
   <span class="token number">97.06831451706046</span>% used
</code></pre></div><h3 id="jstack"><a href="#jstack" class="header-anchor">#</a> jstack</h3> <blockquote><p><strong><a href="https://docs.oracle.com/en/java/javase/11/tools/jstack.html" target="_blank" rel="noopener noreferrer">jstack(Stack Trace for java)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是 Java 堆栈跟踪工具</strong>。jstack 用来打印目标 Java 进程中各个线程的栈轨迹，以及这些线程所持有的锁，并可以生成 java 虚拟机当前时刻的线程快照（一般称为 threaddump 或 javacore 文件）。</p> <p><strong>线程快照是当前虚拟机内每一条线程正在执行的方法堆栈的集合，生成线程快照的主要目的是定位线程出现长时间停顿的原因，如线程间死锁、死循环、请求外部资源导致的长时间等待等</strong>。</p></blockquote> <p><code>jstack</code> 通常会结合 <code>top -Hp pid</code> 或 <code>pidstat -p pid -t</code> 一起查看具体线程的状态，也经常用来排查一些死锁的异常。</p> <p>线程出现停顿的时候通过 jstack 来查看各个线程的调用堆栈，就可以知道没有响应的线程到底在后台做什么事情，或者等待什么资源。 如果 java 程序崩溃生成 core 文件，jstack 工具可以用来获得 core 文件的 java stack 和 native stack 的信息，从而可以轻松地知道 java 程序是如何崩溃和在程序何处发生问题。另外，jstack 工具还可以附属到正在运行的 java 程序中，看到当时运行的 java 程序的 java stack 和 native stack 的信息, 如果现在运行的 java 程序呈现 hung 的状态，jstack 是非常有用的。</p> <p>命令格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>jstack <span class="token punctuation">[</span>option<span class="token punctuation">]</span> vmid
</code></pre></div><p>常用参数：</p> <ul><li><code>option</code> - 选项参数
<ul><li><code>-F</code> - 当正常输出请求不被响应时，强制输出线程堆栈</li> <li><code>-l</code> - 除堆栈外，显示关于锁的附加信息</li> <li><code>-m</code> - 如果调用到本地方法的话，可以显示 C/C++的堆栈</li></ul></li></ul> <p>【示例】</p> <p>（1）找出某 Java 进程中最耗费 CPU 的 Java 线程</p> <p>a) 找出 Java 进程</p> <p>假设应用名称为 myapp：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jps <span class="token operator">|</span> <span class="token function">grep</span> myapp
<span class="token number">29527</span> myapp.jar
</code></pre></div><p>得到进程 ID 为 21711</p> <p>b) 找出该进程内最耗费 CPU 的线程，可以使用 <code>ps -Lfp pid</code> 或者 <code>ps -mp pid -o THREAD, tid, time</code> 或者 <code>top -Hp pid</code></p> <p><img src="http://static.oschina.net/uploads/space/2014/0128/170402_A57i_111708.png" alt="img">
TIME 列就是各个 Java 线程耗费的 CPU 时间，CPU 时间最长的是线程 ID 为 21742 的线程，用</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">printf</span> <span class="token string">&quot;%x<span class="token entity" title="\n">\n</span>&quot;</span> <span class="token number">21742</span>
</code></pre></div><p>得到 21742 的十六进制值为 54ee，下面会用到。</p> <p>c) 使用 jstack 打印线程堆栈信息</p> <p>下一步终于轮到 jstack 上场了，它用来输出进程 21711 的堆栈信息，然后根据线程 ID 的十六进制值 grep，如下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jstack <span class="token number">21711</span> <span class="token operator">|</span> <span class="token function">grep</span> 54ee
<span class="token string">&quot;PollIntervalRetrySchedulerThread&quot;</span> <span class="token assign-left variable">prio</span><span class="token operator">=</span><span class="token number">10</span> <span class="token assign-left variable">tid</span><span class="token operator">=</span>0x00007f950043e000 <span class="token assign-left variable">nid</span><span class="token operator">=</span>0x54ee <span class="token keyword">in</span> Object.wait<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span>0x00007f94c6eda000<span class="token punctuation">]</span>
</code></pre></div><p>可以看到 CPU 消耗在 PollIntervalRetrySchedulerThread 这个类的 Object.wait()，我找了下我的代码，定位到下面的代码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Idle wait</span>
<span class="token function">getLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Thread [&quot;</span> <span class="token operator">+</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;] is idle waiting...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
schedulerThreadState <span class="token operator">=</span> <span class="token class-name">PollTaskSchedulerThreadState</span><span class="token punctuation">.</span><span class="token class-name">IdleWaiting</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> now <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> waitTime <span class="token operator">=</span> now <span class="token operator">+</span> <span class="token function">getIdleWaitTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> timeUntilContinue <span class="token operator">=</span> waitTime <span class="token operator">-</span> now<span class="token punctuation">;</span>
<span class="token keyword">synchronized</span><span class="token punctuation">(</span>sigLock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
    	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>halted<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    		sigLock<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span>timeUntilContinue<span class="token punctuation">)</span><span class="token punctuation">;</span>
    	<span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
	<span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> ignore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>它是轮询任务的空闲等待代码，上面的 sigLock.wait(timeUntilContinue) 就对应了前面的 Object.wait()。</p> <h3 id="jhat"><a href="#jhat" class="header-anchor">#</a> jhat</h3> <blockquote><p><strong>jhat(JVM Heap Analysis Tool)，是虚拟机堆转储快照分析工具</strong>。jhat 与 jmap 搭配使用，用来分析 jmap 生成的 dump 文件。jhat 内置了一个微型的 HTTP/HTML 服务器，生成 dump 的分析结果后，可以在浏览器中查看。</p> <p>注意：一般不会直接在服务器上进行分析，因为 jhat 是一个耗时并且耗费硬件资源的过程，一般把服务器生成的 dump 文件，用 jvisualvm 、Eclipse Memory Analyzer、IBM HeapAnalyzer 等工具来分析。</p></blockquote> <p>命令格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>jhat <span class="token punctuation">[</span>dumpfile<span class="token punctuation">]</span>
</code></pre></div><h3 id="jinfo"><a href="#jinfo" class="header-anchor">#</a> jinfo</h3> <blockquote><p><strong><a href="https://docs.oracle.com/en/java/javase/11/tools/jinfo.html" target="_blank" rel="noopener noreferrer">jinfo(JVM Configuration info)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，是 Java 配置信息工具</strong>。jinfo 用于实时查看和调整虚拟机运行参数。如传递给 Java 虚拟机的<code>-X</code>（即输出中的 jvm_args）、<code>-XX</code>参数（即输出中的 VM Flags），以及可在 Java 层面通过<code>System.getProperty</code>获取的<code>-D</code>参数（即输出中的 System Properties）。</p></blockquote> <p>之前的 <code>jps -v</code> 口令只能查看到显示指定的参数，如果想要查看未被显示指定的参数的值就要使用 jinfo 口令。</p> <p>命令格式：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>jinfo <span class="token punctuation">[</span>option<span class="token punctuation">]</span> pid
</code></pre></div><p>常用参数：</p> <ul><li><code>option</code> - 选项参数
<ul><li><code>-flag</code> - 输出指定 args 参数的值</li> <li><code>-sysprops</code> - 输出系统属性，等同于 <code>System.getProperties()</code></li></ul></li></ul> <p>【示例】</p> <div class="language-shell extra-class"><pre class="language-shell"><code>$ jinfo -sysprops <span class="token number">29527</span>
Attaching to process ID <span class="token number">29527</span>, please wait<span class="token punctuation">..</span>.
Debugger attached successfully.
Server compiler detected.
JVM version is <span class="token number">25.222</span>-b10
<span class="token punctuation">..</span>.
</code></pre></div><h2 id="二、jvm-gui-工具"><a href="#二、jvm-gui-工具" class="header-anchor">#</a> 二、JVM GUI 工具</h2> <h3 id="jconsole"><a href="#jconsole" class="header-anchor">#</a> jconsole</h3> <blockquote><p><strong>jconsole(Java Monitoring and Management Console) 是一种基于 JMX 的可视化监视与管理工具</strong>。它的管理功能是针对 JMX MBean 进行管理，由于 MBean 可以使用代码、中间件服务器的管理控制台或所有符合 JMX 规范的软件进行访问。</p></blockquote> <blockquote><p>注意：使用 jconsole 的前提是 Java 应用开启 JMX。</p></blockquote> <h4 id="开启-jmx"><a href="#开启-jmx" class="header-anchor">#</a> 开启 JMX</h4> <p>Java 应用开启 JMX 后，可以使用 <code>jconsole</code> 或 <code>jvisualvm</code> 进行监控 Java 程序的基本信息和运行情况。</p> <p>开启方法是，在 java 指令后，添加以下参数：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token operator">-</span><span class="token class-name">Dcom</span><span class="token punctuation">.</span>sun<span class="token punctuation">.</span>management<span class="token punctuation">.</span>jmxremote<span class="token operator">=</span><span class="token boolean">true</span>
<span class="token operator">-</span><span class="token class-name">Dcom</span><span class="token punctuation">.</span>sun<span class="token punctuation">.</span>management<span class="token punctuation">.</span>jmxremote<span class="token punctuation">.</span>ssl<span class="token operator">=</span><span class="token boolean">false</span>
<span class="token operator">-</span><span class="token class-name">Dcom</span><span class="token punctuation">.</span>sun<span class="token punctuation">.</span>management<span class="token punctuation">.</span>jmxremote<span class="token punctuation">.</span>authenticate<span class="token operator">=</span><span class="token boolean">false</span>
<span class="token operator">-</span><span class="token class-name">Djava</span><span class="token punctuation">.</span>rmi<span class="token punctuation">.</span>server<span class="token punctuation">.</span>hostname<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
<span class="token operator">-</span><span class="token class-name">Dcom</span><span class="token punctuation">.</span>sun<span class="token punctuation">.</span>management<span class="token punctuation">.</span>jmxremote<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">18888</span>
</code></pre></div><ul><li><code>-Djava.rmi.server.hostname</code> - 指定 Java 程序运行的服务器</li> <li><code>-Dcom.sun.management.jmxremote.port</code> - 指定 JMX 服务监听端口</li></ul> <h4 id="连接-jconsole"><a href="#连接-jconsole" class="header-anchor">#</a> 连接 jconsole</h4> <p><img src="https://docs.oracle.com/javase/8/docs/technotes/guides/management/figures/connectadv.gif" alt="Connecting to a JMX Agent Using the JMX Service URL"></p> <p>进入 jconsole 应用后，可以看到以下 tab 页面。</p> <ul><li><code>概述</code> - 显示有关 Java VM 和监视值的概述信息。</li> <li><code>内存</code> - 显示有关内存使用的信息。内存页相当于可视化的 <code>jstat</code> 命令。</li> <li><code>线程</code> - 显示有关线程使用的信息。</li> <li><code>类</code> - 显示有关类加载的信息。</li> <li><code>VM 摘要</code> - 显示有关 Java VM 的信息。</li> <li><code>MBean</code> - 显示有关 MBean 的信息。</li></ul> <h3 id="jvisualvm"><a href="#jvisualvm" class="header-anchor">#</a> jvisualvm</h3> <blockquote><p><strong>jvisualvm(All-In-One Java Troubleshooting Tool) 是多合一故障处理工具</strong>。它支持运行监视、故障处理、性能分析等功能。</p></blockquote> <blockquote><p>注意：使用 jconsole 的前提是 Java 应用开启 JMX。</p></blockquote> <h3 id="mat"><a href="#mat" class="header-anchor">#</a> MAT</h3> <p><a href="https://www.eclipse.org/mat/" target="_blank" rel="noopener noreferrer">MAT<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 即 Eclipse Memory Analyzer Tool 的缩写。</p> <p>MAT 本身也能够获取堆的二进制快照。该功能将借助 <code>jps</code> 列出当前正在运行的 Java 进程，以供选择并获取快照。由于 <code>jps</code> 会将自己列入其中，因此你会在列表中发现一个已经结束运行的 <code>jps</code> 进程。</p> <p>MAT 可以独立安装（<a href="http://www.eclipse.org/mat/downloads.php" target="_blank" rel="noopener noreferrer">官方下载地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>），也可以作为 Eclipse IDE 的插件安装。</p> <h4 id="mat-配置"><a href="#mat-配置" class="header-anchor">#</a> MAT 配置</h4> <p>MAT 解压后，安装目录下有个 <code>MemoryAnalyzer.ini</code> 文件。</p> <p><code>MemoryAnalyzer.ini</code> 中有个重要的参数 <code>Xmx</code> 表示最大内存，默认为：<code>-vmargs -Xmx1024m</code></p> <p>如果试图用 MAT 导入的 dump 文件超过 1024 M，会报错：</p> <div class="language-shell extra-class"><pre class="language-shell"><code>An internal error occurred during: <span class="token string">&quot;Parsing heap dump from XXX&quot;</span>
</code></pre></div><p>此时，可以适当调整 <code>Xmx</code> 大小。如果设置的 <code>Xmx</code> 数值过大，本机内存不足以支撑，启动 MAT 会报错：</p> <div class="language- extra-class"><pre class="language-text"><code>Failed to create the Java Virtual Machine
</code></pre></div><h4 id="mat-分析"><a href="#mat-分析" class="header-anchor">#</a> MAT 分析</h4> <p><img src="http://dunwu.test.upcdn.net/snap/20200308092746.png" alt="img"></p> <p>点击 Leak Suspects 可以进入内存泄漏页面。</p> <p>（1）首先，可以查看饼图了解内存的整体消耗情况</p> <p><img src="http://dunwu.test.upcdn.net/snap/20200308150556.png" alt="img"></p> <p>（2）缩小范围，寻找问题疑似点</p> <p><img src="https://img-blog.csdn.net/20160223202154818" alt="img"></p> <p>可以点击进入详情页面，在详情页面 Shortest Paths To the Accumulation Point 表示 GC root 到内存消耗聚集点的最短路径，如果某个内存消耗聚集点有路径到达 GC root，则该内存消耗聚集点不会被当做垃圾被回收。</p> <p>为了找到内存泄露，我获取了两个堆转储文件，两个文件获取时间间隔是一天（因为内存只是小幅度增长，短时间很难发现问题）。对比两个文件的对象，通过对比后的结果可以很方便定位内存泄露。</p> <p>MAT 同时打开两个堆转储文件，分别打开 Histogram，如下图。在下图中方框 1 按钮用于对比两个 Histogram，对比后在方框 2 处选择 Group By package，然后对比各对象的变化。不难发现 heap3.hprof 比 heap6.hprof 少了 64 个 eventInfo 对象，如果对代码比较熟悉的话想必这样一个结果是能够给程序员一定的启示的。而我也是根据这个启示差找到了最终内存泄露的位置。
<img src="https://img-blog.csdn.net/20160223203226362" alt="img"></p> <h2 id="参考资料"><a href="#参考资料" class="header-anchor">#</a> 参考资料</h2> <ul><li><a href="https://item.jd.com/11252778.html" target="_blank" rel="noopener noreferrer">《深入理解 Java 虚拟机》<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://time.geekbang.org/column/intro/100028001" target="_blank" rel="noopener noreferrer">Java 性能调优实战<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://my.oschina.net/feichexia/blog/196575" target="_blank" rel="noopener noreferrer">JVM 性能调优监控工具 jps、jstack、jmap、jhat、jstat、hprof 使用详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://docs.oracle.com/javase/8/docs/technotes/guides/management/jconsole.html" target="_blank" rel="noopener noreferrer">jconsole 官方文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.cnblogs.com/kongzhongqijing/articles/3621441.html" target="_blank" rel="noopener noreferrer">jconsole 工具使用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.cnblogs.com/yjd_hycf_space/p/7755633.html" target="_blank" rel="noopener noreferrer">jstat 命令查看 jvm 的 GC 情况<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://blog.csdn.net/wanghuiqi2008/article/details/50724676" target="_blank" rel="noopener noreferrer">利用内存分析工具（Memory Analyzer Tool，MAT）分析 java 项目内存泄露<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/javacore/edit/master/docs/jvm/jvm-tools.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/javacore/assets/js/app.f6137fda.js" defer></script><script src="/javacore/assets/js/4.5b70554b.js" defer></script><script src="/javacore/assets/js/61.441d44e6.js" defer></script><script src="/javacore/assets/js/5.97e60065.js" defer></script>
  </body>
</html>
